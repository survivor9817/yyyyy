<!DOCTYPE html>
<html lang="fa">
  <head>
    <meta charset="UTF-8" />
    <title>سایدبار با hash</title>
    <style>
      #sidebar {
        position: fixed;
        right: 0;
        top: 0;
        width: 250px;
        height: 100%;
        background: #eee;
        box-shadow: -2px 0 6px rgba(0, 0, 0, 0.3);
        transform: translateX(100%);
        transition: transform 0.3s;
        padding: 20px;
      }
      #sidebar.show {
        transform: translateX(0);
      }
    </style>
  </head>
  <body>
    <h1>روش با location.hash</h1>
    <button onclick="location.hash = 'sidebar'">باز کردن سایدبار</button>

    <div id="sidebar">
      <button onclick="location.hash = ''">×</button>
      <p>محتوای سایدبار</p>
    </div>

    <script>
      function updateSidebar() {
        const sidebar = document.getElementById("sidebar");
        if (location.hash === "#sidebar") {
          sidebar.classList.add("show");
        } else {
          sidebar.classList.remove("show");
        }
      }

      window.addEventListener("hashchange", updateSidebar);
      window.addEventListener("load", updateSidebar); // اگه با # لود شده باشه
    </script>
  </body>
</html>
